{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-e6d7ca30\"],{\"09f4\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),Math.easeInOutQuad=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,n){var s=a(),o=e-s,l=20,c=0;t=\"undefined\"===typeof t?500:t;var u=function e(){c+=l;var a=Math.easeInOutQuad(c,s,o,t);r(a),c<t?i(e):n&&\"function\"===typeof n&&n()};u()}},4381:function(e,t,n){\"use strict\";n(\"ac4d\"),n(\"8a81\"),n(\"ac6a\");var i=n(\"4360\"),r={inserted:function(e,t,n){var r=t.value,a=i[\"a\"].getters&&i[\"a\"].getters.permissions;if(!(r&&r instanceof Array&&r.length>0&&a))throw new Error(\"need permissions! Like v-permission=\\\"['/rest/user/list']\\\"\");var s=!1,o=!0,l=!1,c=void 0;try{for(var u,d=a[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var m=u.value;if(m.url===r[0]){s=!0;break}}}catch(p){l=!0,c=p}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}s||e.remove()}},a=function(e){e.directive(\"permission\",r)};window.Vue&&(window[\"permission\"]=r,Vue.use(a)),r.install=a;t[\"a\"]=r},\"9a8d\":function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"20px\"}},[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"岗位名\"},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,\"name\",t)},expression:\"listQuery.name\"}}),e._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleSearch}},[e._v(\"查找\")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/job/add\"],expression:\"['/rest/job/add']\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\"},on:{click:e.handleCreate}},[n(\"i\",{staticClass:\"el-icon-plus\"}),e._v(\" 新增\\n    \")])],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],key:e.tableKey,staticStyle:{width:\"100%\"},attrs:{data:e.list,border:\"\",height:\"450\"}},[n(\"el-table-column\",{attrs:{prop:\"name\",label:\"岗位名\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"禁用/启用\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0},on:{change:function(n){return e.handleStateChange(t.row)}},model:{value:t.row.state,callback:function(n){e.$set(t.row,\"state\",n)},expression:\"scope.row.state\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"sorts\",label:\"排序\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/role/update\"],expression:\"['/rest/role/update']\"}],attrs:{type:\"text\",size:\"small\"},on:{click:function(n){return e.handleEdit(t)}}},[e._v(\"编辑\")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/role/delete\"],expression:\"['/rest/role/delete']\"}],attrs:{type:\"text\",size:\"small\"},on:{click:function(n){return e.handleDelete(t)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),n(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){return e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){return e.$set(e.listQuery,\"limit\",t)},pagination:e.getList}}),e._v(\" \"),n(\"el-dialog\",{attrs:{visible:e.dialogVisible,title:\"edit\"===e.dialogType?\"编辑\":\"新增\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.job,rules:e.rules,\"label-position\":\"right\",\"label-width\":\"80px\"}},[n(\"el-form-item\",{attrs:{label:\"岗位名\",prop:\"name\"}},[n(\"el-input\",{attrs:{placeholder:\"岗位名\"},model:{value:e.job.name,callback:function(t){e.$set(e.job,\"name\",t)},expression:\"job.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"状态\",prop:\"state\"}},[n(\"el-radio-group\",{model:{value:e.job.state,callback:function(t){e.$set(e.job,\"state\",t)},expression:\"job.state\"}},[n(\"el-radio\",{attrs:{label:1}},[e._v(\"启用\")]),e._v(\" \"),n(\"el-radio\",{attrs:{label:0}},[e._v(\"禁用\")])],1)],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"排序\"}},[n(\"el-input-number\",{staticStyle:{width:\"178px\"},attrs:{min:0,max:999,\"controls-position\":\"right\"},model:{value:e.job.sorts,callback:function(t){e.$set(e.job,\"sorts\",e._n(t))},expression:\"job.sorts\"}})],1)],1),e._v(\" \"),n(\"div\",{staticStyle:{\"text-align\":\"right\"}},[n(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmRole}},[e._v(\"确定\")])],1)],1)],1)},r=[],a=(n(\"7f7f\"),n(\"96cf\"),n(\"3b8d\")),s=n(\"4381\"),o=n(\"fd0f\"),l=n(\"333d\"),c=n(\"ed08\"),u={id:void 0,name:\"\",state:1,sorts:void 0},d={name:\"Job\",components:{Pagination:l[\"a\"]},directives:{permission:s[\"a\"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!1,listQuery:{page:1,limit:10,name:\"\"},job:Object.assign({},u),dialogVisible:!1,dialogType:\"new\",rules:{name:[{required:!0,message:\"请输入岗位名\",trigger:\"blur\"},{min:2,max:15,message:\"长度在 2 到 15 个字符\",trigger:\"blur\"}],state:[{required:!0,message:\"请选择状态\",trigger:\"change\"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.prev=1,e.next=4,Object(o[\"c\"])(this.listQuery);case 4:t=e.sent,this.listLoading=!1,this.list=t.result.rows,this.total=t.result.records,e.next=13;break;case 10:e.prev=10,e.t0=e[\"catch\"](1),this.listLoading=!1;case 13:case\"end\":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),handleSearch:function(){this.getList()},handleStateChange:function(e){var t=this,n=1===e.state?\"启用\":\"停用\";this.$confirm(\"确认要 [\"+n+\"] [\"+e.name+\"] 岗位吗?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(Object(a[\"a\"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(o[\"f\"])({id:e.id,state:e.state});case 2:t.$message({message:n+\"成功\",type:\"success\"});case 3:case\"end\":return i.stop()}}),i)})))).catch((function(t){console.error(t),e.state=0===e.state?1:0}))},handleCreate:function(){this.dialogType=\"new\",this.dialogVisible=!0},handleEdit:function(e){this.dialogType=\"edit\",this.dialogVisible=!0,this.checkStrictly=!0,this.job=Object(c[\"c\"])(e.row)},confirmRole:function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=\"edit\"===this.dialogType,!t){e.next=6;break}return e.next=4,Object(o[\"e\"])(this.job);case 4:e.next=8;break;case 6:return e.next=8,Object(o[\"a\"])(this.job);case 8:this.dialogVisible=!1,this.$message({showClose:!0,message:\"保存成功\",type:\"success\"}),this.getList();case 11:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(e){var t=this,n=e.row;this.$confirm(\"确认删除?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(Object(a[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"b\"])(n.id);case 2:t.$message({showClose:!0,message:\"删除成功\",type:\"success\"}),t.getList();case 4:case\"end\":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))}}},m=d,p=n(\"2877\"),f=Object(p[\"a\"])(m,i,r,!1,null,null,null);t[\"default\"]=f.exports},fd0f:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return r})),n.d(t,\"d\",(function(){return a})),n.d(t,\"a\",(function(){return s})),n.d(t,\"e\",(function(){return o})),n.d(t,\"f\",(function(){return l})),n.d(t,\"b\",(function(){return c}));var i=n(\"b775\");function r(e){return Object(i[\"a\"])({url:\"/rest/job/list\",method:\"post\",data:e})}function a(){return Object(i[\"a\"])({url:\"/rest/job/all\",method:\"get\"})}function s(e){return Object(i[\"a\"])({url:\"/rest/job/add\",method:\"post\",data:e})}function o(e){return Object(i[\"a\"])({url:\"/rest/job/update\",method:\"post\",data:e})}function l(e){return Object(i[\"a\"])({url:\"/rest/job/updateState\",method:\"post\",data:e})}function c(e){return Object(i[\"a\"])({url:\"/rest/job/delete\",method:\"get\",params:{id:e}})}}}]);","extractedComments":[]}