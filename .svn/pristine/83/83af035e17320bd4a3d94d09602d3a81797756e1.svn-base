{"remainingRequest":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ysyf\\iguard-vue01\\src\\views\\permission\\department.vue?vue&type=template&id=746338e8&","dependencies":[{"path":"D:\\ysyf\\iguard-vue01\\src\\views\\permission\\department.vue","mtime":1587202308068},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1586085260820},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js","mtime":1586085255129}],"contextDependencies":[],"result":["\n  <div class=\"app-container\" style>\n    <div style=\"margin-top:20px;max-width:600px;margin-left: 80px;\">\n      <el-row :gutter=\"30\">\n        <el-col :span=\"10\">\n          <el-input v-model=\"filterText\" placeholder=\"输入关键字进行过滤\" clearable />\n        </el-col>\n\n        <el-col :span=\"30\">\n<!--          <el-button v-permission=\"['/rest/department/topCompanyAdd']\" class=\"filter-item\" type=\"primary\" @click=\"topCompanyCreate()\">-->\n<!--            <i class=\"el-icon-plus\" /> 添加一级企业-->\n<!--          </el-button>-->\n          <el-button   v-permission=\"['/rest/department/companyAdd']\" class=\"filter-item\" type=\"primary\" @click=\"handleCreate()\">\n            <i class=\"el-icon-plus\" /> 添加企业/部门\n          </el-button>\n        </el-col>\n\n<!--        <el-col :span=\"8\">-->\n<!--         -->\n<!--        </el-col>-->\n\n      </el-row>\n      <el-row style=\"padding-top:20px\">\n        <el-col>\n          <el-tree\n            ref=\"tree\"\n            :data=\"departments\"\n            :props=\"defaultProps\"\n            node-key=\"id\"\n            class=\"permission-tree\"\n            default-expand-all\n            :expand-on-click-node=\"false\"\n            :filter-node-method=\"filterNode\"\n          >\n            <span slot-scope=\"{ node, data }\" class=\"custom-tree-node\">\n              <span>{{ node.label }}</span>\n              <span>\n                <el-button\n                  v-permission=\"['/rest/department/add']\"\n                  type=\"text\"\n                  size=\"mini\"\n                  @click=\"() => handleCreate(data)\"\n                >添加子项</el-button>\n                <el-button\n                  v-permission=\"['/rest/department/update']\"\n                  type=\"text\"\n                  size=\"mini\"\n                  @click=\"() => handleEdit(node,data)\"\n                >编辑</el-button>\n                <el-button\n                  v-permission=\"['/rest/department/delete']\"\n                  type=\"text\"\n                  size=\"mini\"\n                  @click=\"() => handleDelete(data)\"\n                >删除</el-button>\n              </span>\n            </span>\n          </el-tree>\n        </el-col>\n      </el-row>\n    </div>\n    <el-dialog :visible.sync=\"dialogVisible\" :title=\"dialogType==='edit'?'编辑':'新增'\">\n      <el-form\n        ref=\"form\"\n        :model=\"company\"\n        :rules=\"rules\"\n        label-width=\"80px\"\n        label-position=\"right\"\n      >\n\n        <el-form-item label=\"类型\" prop=\"department.deptCompany\" style=\"width:100%\">\n          <el-select v-model=\"company.department.deptCompany\" placeholder=\"请选择\" @change=\"getDeptCompany\">\n            <el-option label=\"部门\"  :value=\"1\"></el-option>\n            <el-option label=\"企业\"  :value=\"2\" ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item :label=\"isCompany?'企业名称':'部门名称'\" prop=\"department.name\">\n          <el-input v-model=\"company.department.name\" :placeholder=\"isCompany?'企业名称':'部门名称'\" />\n        </el-form-item>\n        <!-- <el-form-item label=\"级别\">\n          <el-select v-model=\"department.levels\" style=\"width: 140px\" class=\"filter-item\">\n            <el-option\n              v-for=\"item in levelsOptions\"\n              :key=\"item.key\"\n              :label=\"item.label\"\n              :value=\"item.key\"\n            />\n          </el-select>\n        </el-form-item>-->\n\n        <el-form-item label=\"上级部门\" prop=\"department.parentId\" v-if=\"isDepartment\">\n          <!-- <span>{{department.parentName}}</span> -->\n          <treeselect\n            v-model=\"company.department.parentId\"\n            :options=\"companySubDepartments\"\n            :normalizer=\"normalizer\"\n            placeholder=\"选择上级部门\"\n          />\n        </el-form-item>\n\n        <el-form-item label=\"管理账号\" prop=\"user.name\" v-if=\"isCompany\" >\n          <el-input v-model=\"company.user.name\" placeholder=\"请输入手机号\" />\n        </el-form-item>\n\n        <el-form-item label=\"密码\" prop=\"user.password\" v-if=\"isCompany\">\n          <el-input v-model=\"company.user.password\" placeholder=\"请输入密码\" show-password/>\n        </el-form-item>\n\n        <el-form-item label=\"真实姓名\" prop=\"user.vserName\"  v-if=\"isCompany\">\n          <el-input v-model=\"company.user.vserName\" placeholder=\"请输入姓名\" />\n        </el-form-item>\n\n        <el-form-item label=\"角色\" v-if=\"isCompany\" prop=\"user.roleIds\">\n          <el-select v-model=\"company.user.roleIds\" multiple placeholder=\"请选择\" style=\"width:100%\">\n            <el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n\n\n        <el-form-item label=\"排序\">\n          <el-input v-model=\"company.department.sorts\" placeholder=\"排序\" />\n        </el-form-item>\n      </el-form>\n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n\n\n\n    <el-dialog :visible.sync=\"dialogVisibleEdit\" title=\"编辑\">\n      <el-form\n        ref=\"form\"\n        :model=\"company\"\n        :rules=\"rules\"\n        label-width=\"80px\"\n        label-position=\"right\"\n      >\n\n        <el-form-item label=\"类型\" prop=\"department.deptCompany\" style=\"width:100%\">\n          <el-select v-model=\"company.department.deptCompany\" placeholder=\"请选择\" @change=\"getDeptCompany\">\n            <el-option label=\"部门\"  :value=\"1\"></el-option>\n            <el-option label=\"企业\"  :value=\"2\" ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item :label=\"isCompany?'企业名称':'部门名称'\" prop=\"department.name\">\n          <el-input v-model=\"company.department.name\" :placeholder=\"isCompany?'企业名称':'部门名称'\" />\n        </el-form-item>\n\n        <el-form-item label=\"上级部门\" prop=\"department.parentId\" v-if=\"isDepartment\">\n          <treeselect\n            v-model=\"company.department.parentId\"\n            :options=\"companySubDepartments\"\n            :normalizer=\"normalizer\"\n            placeholder=\"选择上级部门\"\n          />\n        </el-form-item>\n\n        <el-form-item label=\"排序\">\n          <el-input v-model=\"company.department.sorts\" placeholder=\"排序\" />\n        </el-form-item>\n      </el-form>\n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogVisibleEdit=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n\n\n    <el-dialog :visible.sync=\"dialogTopCompanyAdd\" title=\"新增\">\n      <el-form\n        ref=\"form\"\n        :model=\"company\"\n        :rules=\"rules\"\n        label-width=\"80px\"\n        label-position=\"right\"\n      >\n\n        <el-form-item label=\"企业名称\" prop=\"department.name\">\n          <el-input v-model=\"company.department.name\" placeholder=\"企业名称\" />\n        </el-form-item>\n\n        <el-form-item label=\"管理账号\" prop=\"user.name\">\n          <el-input v-model=\"company.user.name\" placeholder=\"请输入手机号\" />\n        </el-form-item>\n\n        <el-form-item label=\"密码\" prop=\"user.password\">\n          <el-input v-model=\"company.user.password\" placeholder=\"请输入密码\" show-password/>\n        </el-form-item>\n\n        <el-form-item label=\"真实姓名\" prop=\"user.vserName\">\n          <el-input v-model=\"company.user.vserName\" placeholder=\"请输入姓名\" />\n        </el-form-item>\n\n        <el-form-item label=\"角色\" prop=\"user.roleIds\">\n          <el-select v-model=\"company.user.roleIds\" multiple placeholder=\"请选择\" style=\"width:100%\">\n            <el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"排序\">\n          <el-input v-model=\"company.department.sorts\" placeholder=\"排序\" />\n        </el-form-item>\n      </el-form>\n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogTopCompanyAdd=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n\n\n  </div>\n",null]}