{"remainingRequest":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ysyf\\iguard-vue01\\src\\views\\permission\\user.vue?vue&type=template&id=25339104&","dependencies":[{"path":"D:\\ysyf\\iguard-vue01\\src\\views\\permission\\user.vue","mtime":1586084705000},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1586085260820},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js","mtime":1586085255129}],"contextDependencies":[],"result":["\n  <div class=\"app-container\">\n    <div style=\"margin-top:20px;margin-bottom: 20px\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"4\">\n          <el-input\n            v-model=\"searchDeptName\"\n            prefix-icon=\"el-icon-search\"\n            placeholder=\"请输入部门名称\"\n            clearable\n            @clear=\"clearSearchDept\"\n          />\n        </el-col>\n        <el-col :span=\"4\">\n          <el-input v-model=\"listQuery.name\" placeholder=\"账号\" />\n        </el-col>\n        <el-col :span=\"4\">\n          <el-input v-model=\"listQuery.vserName\" placeholder=\"真实姓名\" />\n        </el-col>\n\n        <el-col :span=\"4\">\n          <el-select v-model=\"listQuery.state\" placeholder=\"用户状态\" clearable>\n            <el-option\n              v-for=\"item in stateOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-button\n            v-permission=\"['/rest/user/list']\"\n            class=\"filter-item\"\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            @click=\"handleSearch\"\n          >查找</el-button>\n          <el-button\n            v-permission=\"['/rest/user/add']\"\n            class=\"filter-item\"\n            style=\"margin-left: 10px;\"\n            type=\"primary\"\n            @click=\"handleCreate\"\n          >\n            <i class=\"el-icon-plus\" />新增\n          </el-button>\n        </el-col>\n      </el-row>\n    </div>\n\n    <div>\n      <el-row>\n        <el-col :span=\"4\">\n          <el-tree\n            ref=\"serchDeptTree\"\n            :data=\"departments\"\n            :props=\"defaultProps\"\n            node-key=\"id\"\n            default-expand-all\n            :expand-on-click-node=\"false\"\n            :filter-node-method=\"filterNode\"\n            class=\"objectTree\"\n            @node-click=\"handleSearchDeptNode\"\n          />\n        </el-col>\n\n        <el-col :span=\"20\">\n          <el-table\n            :key=\"tableKey\"\n            v-loading=\"listLoading\"\n            :data=\"list\"\n            style=\"width: 100%;\"\n            height=\"450\"\n            border\n          >\n            <el-table-column width=\"50\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.$index+(listQuery.page - 1) * listQuery.limit + 1 }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"账号\" width=\"100\" />\n            <el-table-column prop=\"vserName\" label=\"真实姓名\" width=\"100\" />\n            <el-table-column prop=\"mobile\" label=\"手机\" width=\"150\" />\n            <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\"></el-table-column>\n            <el-table-column prop=\"deptName\" label=\"公司部门\" width=\"210\" :formatter=\"formatDept\" />\n            <el-table-column prop=\"roleName\" label=\"角色\" width=\"180\" :formatter=\"formatRole\" />\n\n            <el-table-column label=\"禁用/启用\" width=\"85\">\n              <template slot-scope=\"scope\">\n                <el-switch\n                  v-model=\"scope.row.state\"\n                  :active-value=\"1\"\n                  :inactive-value=\"0\"\n                  @change=\"handleStateChange(scope.row)\"\n                />\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  v-permission=\"['/rest/user/update']\"\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"handleEdit(scope)\"\n                >编辑</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <pagination\n            v-show=\"total>0\"\n            :total=\"total\"\n            :page.sync=\"listQuery.page\"\n            :limit.sync=\"listQuery.limit\"\n            @pagination=\"getList\"\n          />\n        </el-col>\n      </el-row>\n    </div>\n    <el-dialog :visible.sync=\"dialogVisible\" :title=\"dialogType==='edit'?'编辑':'新增'\">\n      <el-form ref=\"form\" :model=\"user\" :rules=\"rules\" label-width=\"80px\" label-position=\"right\">\n\n        <el-form-item label=\"账号\" prop=\"name\">\n          <el-input v-model=\"user.name\" placeholder=\"手机号\" />\n        </el-form-item>\n\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"user.password\" placeholder=\"密码\" />\n        </el-form-item>\n\n        <el-form-item label=\"真实姓名\" prop=\"vserName\">\n          <el-input v-model=\"user.vserName\" placeholder=\"真实姓名\" />\n        </el-form-item>\n\n        <el-form-item label=\"角色\">\n          <el-select v-model=\"user.roleIds\" multiple placeholder=\"请选择\" style=\"width:100%\">\n            <el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n\n<!--        <el-form-item label=\"企业\" prop=\"company\">-->\n<!--          <treeselect-->\n<!--            v-model=\"user.companyId\"-->\n<!--            :options=\"companies\"-->\n<!--            :normalizer=\"normalizer\"-->\n<!--            placeholder=\"选择企业\"-->\n<!--            @change=\"getCompanyDept\"-->\n<!--          />-->\n<!--        </el-form-item>-->\n\n        <el-form-item label=\"部门\" prop=\"deptid\">\n          <treeselect\n            v-model=\"user.deptid\"\n            :options=\"departments\"\n            :normalizer=\"normalizer\"\n            placeholder=\"选择部门\"\n          />\n        </el-form-item>\n\n        <el-form-item label=\"状态\" prop=\"state\">\n          <el-radio-group v-model=\"user.state\">\n            <el-radio\n              v-for=\"item in stateOptions\"\n              :key=\"item.value\"\n              :label=\"item.value\"\n            >{{ item.label }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <el-form-item label=\"邮箱\">\n          <el-input v-model=\"user.email\" placeholder=\"邮箱\" />\n        </el-form-item>\n\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmUser\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n",null]}