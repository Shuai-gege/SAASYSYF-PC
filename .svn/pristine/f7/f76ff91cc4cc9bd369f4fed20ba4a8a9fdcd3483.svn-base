{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-09da4fce\"],{\"09f4\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return i})),Math.easeInOutQuad=function(t,e,a,s){return t/=s/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function l(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(t,e,a){var i=r(),n=t-i,o=20,u=0;e=\"undefined\"===typeof e?500:e;var c=function t(){u+=o;var r=Math.easeInOutQuad(u,i,n,e);l(r),u<e?s(t):a&&\"function\"===typeof a&&a()};c()}},\"24b9\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return s}));a(\"3b2b\"),a(\"a481\");function s(t,e){var a=new Date(t).Format(\"yyyy-MM-dd hh:mm:ss\");return e&&(a=new Date(t).Format(e)),a.toLocaleString()}Date.prototype.Format=function(t){var e={\"M+\":this.getMonth()+1,\"d+\":this.getDate(),\"h+\":this.getHours(),\"m+\":this.getMinutes(),\"s+\":this.getSeconds(),\"q+\":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+\"\").substr(4-RegExp.$1.length))),e)new RegExp(\"(\"+a+\")\").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:(\"00\"+e[a]).substr((\"\"+e[a]).length)));return t}},d0b0:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"20px\"}},[a(\"el-row\",{attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:3}},[a(\"el-input\",{attrs:{placeholder:\"资料名称\"},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,\"title\",e)},expression:\"listQuery.title\"}})],1),t._v(\" \"),a(\"el-col\",{attrs:{span:3}},[a(\"el-input\",{attrs:{placeholder:\"上传人\"},model:{value:t.listQuery.nickName,callback:function(e){t.$set(t.listQuery,\"nickName\",e)},expression:\"listQuery.nickName\"}})],1),t._v(\" \"),a(\"el-col\",{attrs:{span:3}},[a(\"el-select\",{attrs:{placeholder:\"审核标记\"},model:{value:t.listQuery.examineStatus,callback:function(e){t.$set(t.listQuery,\"examineStatus\",e)},expression:\"listQuery.examineStatus\"}},[a(\"el-option\",{attrs:{label:\"全部\",value:\"\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"未审核\",value:\"0\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"审核通过\",value:\"1\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"审核未通过\",value:\"2\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/task/list\"],expression:\"['/rest/task/list']\"}],staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleSearch}},[t._v(\"查找\")])],1)],1)],1),t._v(\" \"),a(\"div\",[a(\"el-row\",[a(\"el-col\",{attrs:{span:23}},[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],key:t.tableKey,staticStyle:{width:\"100%\"},attrs:{data:t.list,height:\"550\",border:\"\"}},[a(\"el-table-column\",{attrs:{width:\"50\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.$index+(t.listQuery.page-1)*t.listQuery.limit+1))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"nickName\",label:\"发布人\",width:\"100\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"title\",label:\"任务名称\",width:\"150\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"taskContent\",label:\"任务描述\",width:\"350\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"taskPrice\",label:\"任务价值/人\",width:\"80\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"peopleNum\",label:\"所需人数\",width:\"80\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"publishDate\",label:\"发布时间\",width:\"170\",formatter:t.formatDateTime}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"startTime\",label:\"开始时间\",width:\"170\",formatter:t.formatDateTime}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"deadLine\",label:\"结束时间\",width:\"170\",formatter:t.formatDateTime}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"status\",label:\"任务状态\",width:\"170\",formatter:t.taskStatus}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"examStatus\",label:\"审核标记\",width:\"100\",formatter:t.shenhebj}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"examTime\",label:\"审核时间\",width:\"170\",formatter:t.formatDateTime}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"\",label:\"备注\",width:\"100\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/task/update\"],expression:\"['/rest/task/update']\"}],attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return t.handleEdit(e)}}},[t._v(\"编辑\")])]}}])})],1),t._v(\" \"),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.total>0,expression:\"total>0\"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{\"update:page\":function(e){return t.$set(t.listQuery,\"page\",e)},\"update:limit\":function(e){return t.$set(t.listQuery,\"limit\",e)},pagination:t.getList}})],1)],1)],1),t._v(\" \"),a(\"el-dialog\",{attrs:{visible:t.dialogVisible,title:\"编辑\"},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[a(\"el-form\",{ref:\"form\",attrs:{model:t.taskVO,rules:t.rules,\"label-width\":\"80px\",\"label-position\":\"right\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"任务名称\",prop:\"title\"}},[a(\"el-input\",{attrs:{placeholder:\"任务名称\"},model:{value:t.taskVO.title,callback:function(e){t.$set(t.taskVO,\"title\",e)},expression:\"taskVO.title\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"发布人\",prop:\"nickName\"}},[a(\"el-input\",{attrs:{placeholder:\"发布人\"},model:{value:t.taskVO.nickName,callback:function(e){t.$set(t.taskVO,\"nickName\",e)},expression:\"taskVO.nickName\"}})],1)],1)],1),t._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:24}},[a(\"el-form-item\",{attrs:{label:\"任务描述\",prop:\"taskContent\"}},[a(\"el-input\",{attrs:{type:\"textarea\",label:\"任务描述\"},model:{value:t.taskVO.taskContent,callback:function(e){t.$set(t.taskVO,\"taskContent\",e)},expression:\"taskVO.taskContent\"}})],1)],1)],1),t._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"开始时间\",prop:\"startTime\"}},[a(\"el-input\",{attrs:{placeholder:\"开始时间\"},model:{value:t.taskVO.startTime,callback:function(e){t.$set(t.taskVO,\"startTime\",e)},expression:\"taskVO.startTime\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"结束时间\",prop:\"deadLine\"}},[a(\"el-input\",{attrs:{placeholder:\"结束时间\"},model:{value:t.taskVO.deadLine,callback:function(e){t.$set(t.taskVO,\"deadLine\",e)},expression:\"taskVO.deadLine\"}})],1)],1)],1),t._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"任务价值/人\",prop:\"taskPrice\"}},[a(\"el-input\",{attrs:{placeholder:\"任务价值/人\"},model:{value:t.taskVO.taskPrice,callback:function(e){t.$set(t.taskVO,\"taskPrice\",e)},expression:\"taskVO.taskPrice\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"所需人数\",prop:\"peopleNum\"}},[a(\"el-input\",{attrs:{placeholder:\"所需人数\"},model:{value:t.taskVO.peopleNum,callback:function(e){t.$set(t.taskVO,\"peopleNum\",e)},expression:\"taskVO.peopleNum\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"任务状态\",prop:\"status\"}},[a(\"el-select\",{attrs:{placeholder:\"任务状态\"},model:{value:t.taskVO.status,callback:function(e){t.$set(t.taskVO,\"status\",e)},expression:\"taskVO.status\"}},[a(\"el-option\",{attrs:{label:\"已发布\",value:0}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已关闭\",value:1}})],1)],1)],1)],1),t._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"审核\",prop:\"examStatus\"}},[a(\"el-select\",{attrs:{placeholder:\"审核标记\"},model:{value:t.taskVO.examStatus,callback:function(e){t.$set(t.taskVO,\"examStatus\",e)},expression:\"taskVO.examStatus\"}},[a(\"el-option\",{attrs:{label:\"未审核\",value:0}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已审核\",value:1}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"审核未通过\",value:2}})],1)],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"审核时间\",prop:\"examTime\"}},[a(\"el-input\",{attrs:{placeholder:\"审核时间\"},model:{value:t.taskVO.examTime,callback:function(e){t.$set(t.taskVO,\"examTime\",e)},expression:\"taskVO.examTime\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"remark\"}},[a(\"el-input\",{attrs:{type:\"textarea\",label:\"备注\"},model:{value:t.taskVO.remark,callback:function(e){t.$set(t.taskVO,\"remark\",e)},expression:\"taskVO.remark\"}})],1)],1)],1)],1),t._v(\" \"),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(\"取消\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.confirmTask}},[t._v(\"确定\")])],1)],1)],1)},l=[],r=(a(\"96cf\"),a(\"3b8d\")),i=a(\"5f87\"),n=a(\"b775\");function o(t){return Object(n[\"a\"])({url:\"/rest/task/list\",method:\"post\",data:t})}function u(t){return Object(n[\"a\"])({url:\"/rest/task/edit\",method:\"post\",data:t})}var c=a(\"333d\"),p=a(\"24b9\"),m=a(\"ed08\"),d=Object(i[\"a\"])(),h={name:\"Task\",components:{Pagination:c[\"a\"]},data:function(){return{list:null,total:0,tableKey:0,listLoading:!1,listQuery:{page:1,limit:10,title:\"\",taskContent:\"\",publishDate:\"\",nickName:\"\",examineStatus:\"\"},headersObj:{\"LinkAdmin-Token\":d},activeName:\"first\",dialogVisible:!1,dialogType:\"new\",taskVO:Object.assign({},uploadVO),rules:{examineStatus:[{required:!0,message:\"请选择审核状态\",trigger:\"change\"}]}}},watch:{searchDeptName:function(t){this.$refs.serchDeptTree.filter(t)}},created:function(){this.getList()},methods:{getList:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.prev=1,t.next=4,o(this.listQuery);case 4:e=t.sent,this.listLoading=!1,this.list=e.result.rows,this.total=e.result.records,t.next=13;break;case 10:t.prev=10,t.t0=t[\"catch\"](1),this.listLoading=!1;case 13:case\"end\":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),handleSearch:function(){this.getList()},formatDateTime:function(t,e){return Object(p[\"a\"])(t.createTime,\"yyyy-MM-dd hh:mm:ss\")},formatDateTimeTemp:function(t){return Object(p[\"a\"])(t,\"yyyy-MM-dd hh:mm:ss\")},shenhebj:function(t,e){var a=t.examineFlag;return\"0\"==a?\"未审核\":\"1\"==a?\"审核通过\":\"2\"==a?\"审核未通过\":void 0},taskStatus:function(t,e){var a=t.status;return\"0\"==a?\"已发布\":\"1\"==a?\"已关闭\":void 0},handleEdit:function(t){this.dialogVisible=!0,this.taskVO=Object(m[\"c\"])(t.row);var e=this.taskVO.publishDate;this.taskVO.publishDate=this.formatDateTimeTemp(e)},confirmTask:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e,a,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.taskVO.examStatus,a=this.taskVO.remark,2!=e||null!=a&&void 0!=a&&\"\"!=a.trim()){t.next=5;break}return this.$message({showClose:!0,message:\"审核未通过,必须备注原因哦~\",type:\"error\"}),t.abrupt(\"return\");case 5:return this.taskVO.publishDate=this.formatDateTimeTemp(this.taskVO.publishDate),this.taskVO.examTime=this.formatDateTimeTemp(this.taskVO.examTime),t.next=9,u(this.taskVO);case 9:s=t.sent,l=s.result,l&&(this.$message({showClose:!0,message:\"编辑成功\",type:\"success\"}),this.dialogVisible=!1,this.getList());case 12:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},b=h,k=a(\"2877\"),f=Object(k[\"a\"])(b,s,l,!1,null,\"5820e5a9\",null);e[\"default\"]=f.exports}}]);","extractedComments":[]}