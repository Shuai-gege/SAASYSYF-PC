{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-ecf2b972\"],{\"09f4\":function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return i})),Math.easeInOutQuad=function(e,t,a,l){return e/=l/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(e,t,a){var i=r(),s=e-i,n=20,u=0;t=\"undefined\"===typeof t?500:t;var p=function e(){u+=n;var r=Math.easeInOutQuad(u,i,s,t);o(r),u<t?l(e):a&&\"function\"===typeof a&&a()};p()}},\"24b9\":function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return l}));a(\"3b2b\"),a(\"a481\");function l(e,t){var a=new Date(e).Format(\"yyyy-MM-dd hh:mm:ss\");return t&&(a=new Date(e).Format(t)),a.toLocaleString()}Date.prototype.Format=function(e){var t={\"M+\":this.getMonth()+1,\"d+\":this.getDate(),\"h+\":this.getHours(),\"m+\":this.getMinutes(),\"s+\":this.getSeconds(),\"q+\":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+\"\").substr(4-RegExp.$1.length))),t)new RegExp(\"(\"+a+\")\").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:(\"00\"+t[a]).substr((\"\"+t[a]).length)));return e}},a1ad:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"20px\"}},[a(\"el-row\",{attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:3}},[a(\"el-input\",{attrs:{placeholder:\"资料名称\"},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,\"title\",t)},expression:\"listQuery.title\"}})],1),e._v(\" \"),a(\"el-col\",{attrs:{span:3}},[a(\"el-input\",{attrs:{placeholder:\"上传人\"},model:{value:e.listQuery.nickName,callback:function(t){e.$set(e.listQuery,\"nickName\",t)},expression:\"listQuery.nickName\"}})],1),e._v(\" \"),a(\"el-col\",{attrs:{span:3}},[a(\"el-select\",{attrs:{placeholder:\"审核标记\"},model:{value:e.listQuery.examineFlag,callback:function(t){e.$set(e.listQuery,\"examineFlag\",t)},expression:\"listQuery.examineFlag\"}},[a(\"el-option\",{attrs:{label:\"全部\",value:\"\"}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"未审核\",value:\"0\"}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"审核通过\",value:\"1\"}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"审核未通过\",value:\"2\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:3}},[a(\"el-select\",{attrs:{placeholder:\"上传类型\"},model:{value:e.listQuery.uploadType,callback:function(t){e.$set(e.listQuery,\"uploadType\",t)},expression:\"listQuery.uploadType\"}},[a(\"el-option\",{attrs:{label:\"全部\",value:\"\"}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"上架\",value:\"0\"}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"赎回\",value:\"1\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/upload/list\"],expression:\"['/rest/upload/list']\"}],staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleSearch}},[e._v(\"查找\")])],1)],1)],1),e._v(\" \"),a(\"div\",[a(\"el-row\",[a(\"el-col\",{attrs:{span:23}},[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],key:e.tableKey,staticStyle:{width:\"100%\"},attrs:{data:e.list,height:\"550\",border:\"\"}},[a(\"el-table-column\",{attrs:{width:\"50\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.$index+(e.listQuery.page-1)*e.listQuery.limit+1))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"nickName\",label:\"上传人\",width:\"100\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"title\",label:\"资料名称\",width:\"150\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"description\",label:\"资料描述\",width:\"350\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"predictScore\",label:\"预估积分\",width:\"80\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"上传时间\",width:\"170\",formatter:e.formatDateTime}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"examineFlag\",label:\"审核标记\",width:\"100\",formatter:e.shenhebj}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"examineTime\",label:\"审核时间\",width:\"170\",formatter:e.formatDateTime}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"uploadType\",label:\"上传类型\",width:\"100\",formatter:e.uploadType}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"\",label:\"赎回编号\",width:\"200\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"\",label:\"备注\",width:\"100\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"/rest/upload/edit\"],expression:\"['/rest/upload/edit']\"}],attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return e.handleEdit(t)}}},[e._v(\"编辑\")])]}}])})],1),e._v(\" \"),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){return e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){return e.$set(e.listQuery,\"limit\",t)},pagination:e.getList}})],1)],1)],1),e._v(\" \"),a(\"el-dialog\",{attrs:{visible:e.dialogVisible,title:\"编辑\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.uploadVO,rules:e.rules,\"label-width\":\"80px\",\"label-position\":\"right\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"资料名称\",prop:\"title\"}},[a(\"el-input\",{attrs:{placeholder:\"资料名称\"},model:{value:e.uploadVO.title,callback:function(t){e.$set(e.uploadVO,\"title\",t)},expression:\"uploadVO.title\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"上传人\",prop:\"nickName\"}},[a(\"el-input\",{attrs:{placeholder:\"上传人\"},model:{value:e.uploadVO.nickName,callback:function(t){e.$set(e.uploadVO,\"nickName\",t)},expression:\"uploadVO.nickName\"}})],1)],1)],1),e._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:24}},[a(\"el-form-item\",{attrs:{label:\"文件描述\",prop:\"description\"}},[a(\"el-input\",{attrs:{type:\"textarea\",label:\"资料描述\"},model:{value:e.uploadVO.description,callback:function(t){e.$set(e.uploadVO,\"description\",t)},expression:\"uploadVO.description\"}})],1)],1)],1),e._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"网盘路径\",prop:\"cloudUrl\"}},[a(\"el-input\",{attrs:{placeholder:\"网盘路径\"},model:{value:e.uploadVO.cloudUrl,callback:function(t){e.$set(e.uploadVO,\"cloudUrl\",t)},expression:\"uploadVO.cloudUrl\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"提取码\",prop:\"cloudCode\"}},[a(\"el-input\",{attrs:{placeholder:\"提取码\"},model:{value:e.uploadVO.cloudCode,callback:function(t){e.$set(e.uploadVO,\"cloudCode\",t)},expression:\"uploadVO.cloudCode\"}})],1)],1)],1),e._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"预估积分\",prop:\"predictScore\"}},[a(\"el-input\",{attrs:{placeholder:\"预估积分\"},model:{value:e.uploadVO.predictScore,callback:function(t){e.$set(e.uploadVO,\"predictScore\",t)},expression:\"uploadVO.predictScore\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"上传类型\",prop:\"uploadType\"}},[a(\"el-select\",{attrs:{placeholder:\"上传类型\"},model:{value:e.uploadVO.uploadType,callback:function(t){e.$set(e.uploadVO,\"uploadType\",t)},expression:\"uploadVO.uploadType\"}},[a(\"el-option\",{attrs:{label:\"上架\",value:0}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"赎回\",value:1}})],1)],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"上传时间\",prop:\"createTime\"}},[a(\"el-input\",{attrs:{placeholder:\"上传时间\"},model:{value:e.uploadVO.createTime,callback:function(t){e.$set(e.uploadVO,\"createTime\",t)},expression:\"uploadVO.createTime\"}})],1)],1)],1),e._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"审核\",prop:\"examineFlag\"}},[a(\"el-select\",{attrs:{placeholder:\"审核标记\"},model:{value:e.uploadVO.examineFlag,callback:function(t){e.$set(e.uploadVO,\"examineFlag\",t)},expression:\"uploadVO.examineFlag\"}},[a(\"el-option\",{attrs:{label:\"未审核\",value:0}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"审核通过\",value:1}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"审核未通过\",value:2}})],1)],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"remark\"}},[a(\"el-input\",{attrs:{type:\"textarea\",label:\"备注\"},model:{value:e.uploadVO.remark,callback:function(t){e.$set(e.uploadVO,\"remark\",t)},expression:\"uploadVO.remark\"}})],1)],1)],1)],1),e._v(\" \"),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmUpload}},[e._v(\"确定\")])],1)],1)],1)},o=[],r=(a(\"96cf\"),a(\"3b8d\")),i=a(\"5f87\"),s=a(\"b775\");function n(e){return Object(s[\"a\"])({url:\"/rest/upload/list\",method:\"post\",data:e})}function u(e){return Object(s[\"a\"])({url:\"/rest/upload/edit\",method:\"post\",data:e})}var p=a(\"333d\"),c=a(\"24b9\"),d=a(\"ed08\"),m=Object(i[\"a\"])(),b={nickName:\"\",id:\"\",uid:\"\",title:\"\",description:\"\",cloudUrl:\"\",cloudCode:\"\",fileName:\"\",fileUrl:\"\",predictScore:\"\",createTime:\"\",examineFlag:\"\",examineTime:\"\",actualScore:\"\",uploadType:\"\",redeemNos:\"\",postFix:\"\",remark:\"\"},h={name:\"Upload\",components:{Pagination:p[\"a\"]},data:function(){return{list:null,total:0,tableKey:0,listLoading:!1,listQuery:{page:1,limit:10,title:\"\",description:\"\",createTime:\"\",nickName:\"\",examineFlag:\"\",uploadType:[{value:\"0\",label:\"上架\"},{value:\"1\",label:\"赎回\"}]},headersObj:{\"LinkAdmin-Token\":m},activeName:\"first\",dialogVisible:!1,dialogType:\"new\",uploadVO:Object.assign({},b),rules:{examineFlag:[{required:!0,message:\"请选择审核状态\",trigger:\"change\"}]}}},watch:{searchDeptName:function(e){this.$refs.serchDeptTree.filter(e)}},created:function(){this.getList()},methods:{getList:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.prev=1,e.next=4,n(this.listQuery);case 4:t=e.sent,this.listLoading=!1,this.list=t.result.rows,this.total=t.result.records,e.next=13;break;case 10:e.prev=10,e.t0=e[\"catch\"](1),this.listLoading=!1;case 13:case\"end\":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),handleSearch:function(){this.getList()},formatDateTime:function(e,t){return Object(c[\"a\"])(e.createTime,\"yyyy-MM-dd hh:mm:ss\")},formatDateTimeTemp:function(e){return Object(c[\"a\"])(e,\"yyyy-MM-dd hh:mm:ss\")},shenhebj:function(e,t){var a=e.examineFlag;return\"0\"==a?\"未审核\":\"1\"==a?\"审核通过\":\"2\"==a?\"审核未通过\":void 0},uploadType:function(e,t){var a=e.uploadType;return\"0\"==a?\"上架\":\"1\"==a?\"赎回\":void 0},handleEdit:function(e){this.dialogVisible=!0,this.uploadVO=Object(d[\"c\"])(e.row);var t=this.uploadVO.createTime;this.uploadVO.createTime=this.formatDateTimeTemp(t)},confirmUpload:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(){var t,a,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.uploadVO.examineFlag,a=this.uploadVO.remark,2!=t||null!=a&&void 0!=a&&\"\"!=a.trim()){e.next=5;break}return this.$message({showClose:!0,message:\"审核未通过,必须备注原因哦~\",type:\"error\"}),e.abrupt(\"return\");case 5:return this.uploadVO.createTime=this.formatDateTimeTemp(this.uploadVO.createTime),this.uploadVO.examineTime=this.formatDateTimeTemp(this.uploadVO.examineTime),e.next=9,u(this.uploadVO);case 9:l=e.sent,o=l.result,o&&(this.$message({showClose:!0,message:\"编辑成功\",type:\"success\"}),this.dialogVisible=!1,this.getList());case 12:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},v=h,f=a(\"2877\"),g=Object(f[\"a\"])(v,l,o,!1,null,\"7674ff60\",null);t[\"default\"]=g.exports}}]);","extractedComments":[]}