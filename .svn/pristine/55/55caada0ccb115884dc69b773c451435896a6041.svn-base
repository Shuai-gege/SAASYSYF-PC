{"remainingRequest":"D:\\ysyf\\iguard-vue01\\node_modules\\thread-loader\\dist\\cjs.js!D:\\ysyf\\iguard-vue01\\node_modules\\babel-loader\\lib\\index.js!D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ysyf\\iguard-vue01\\src\\views\\profile\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ysyf\\iguard-vue01\\src\\views\\profile\\index.vue","mtime":1586084705000},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1586085236938},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\babel-loader\\lib\\index.js","mtime":1586085013966},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js","mtime":1586085255129}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\ysyf\\\\iguard-vue01\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport store from '@/store';\nimport { MessageBox, Message } from 'element-ui';\nimport { mapGetters } from \"vuex\";\nimport { modifyPwd } from \"@/api/permission/user\";\nimport PanThumb from \"@/components/PanThumb\";\nimport Activity from \"./components/Activity\";\nexport default {\n  name: \"Profile\",\n  components: {\n    PanThumb: PanThumb,\n    Activity: Activity\n  },\n  data: function data() {\n    var validatePassord = function validatePassord(rule, value, callback) {\n      if (value.length < 6) {\n        callback(new Error(\"密码长度不能小于6\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      activeTab: \"修改密码\",\n      passwordForm: {\n        oldPassword: \"\",\n        newPassword: \"\",\n        confirmNewPassword: \"\"\n      },\n      passwordRules: {\n        oldPassword: [{\n          required: true,\n          trigger: \"blur\",\n          validator: validatePassord\n        }],\n        newPassword: [{\n          required: true,\n          trigger: \"blur\",\n          validator: validatePassord\n        }],\n        confirmNewPassword: [{\n          required: true,\n          trigger: \"blur\",\n          validator: validatePassord\n        }]\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"userinfo\", \"roles\"])),\n  created: function created() {},\n  methods: {\n    submitPassword: function submitPassword() {\n      var _this = this;\n\n      this.$refs.passwordForm.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n          modifyPwd(_this.passwordForm).then(function (response) {\n            _this.loading = false;\n            MessageBox.confirm(\"密码修改成功, 为确保安全,请重新登录\", \"提示\", {\n              confirmButtonText: \"重新登录\",\n              cancelButtonText: \"取消\",\n              type: \"warning\"\n            }).then(function () {\n              store.dispatch(\"user/resetToken\").then(function () {\n                location.reload();\n              });\n            });\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};",null]}