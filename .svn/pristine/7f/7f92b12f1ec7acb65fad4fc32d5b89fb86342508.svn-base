{"remainingRequest":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ysyf\\iguard-vue01\\src\\views\\iguard\\device\\index.vue?vue&type=template&id=49db18e5&","dependencies":[{"path":"D:\\ysyf\\iguard-vue01\\src\\views\\iguard\\device\\index.vue","mtime":1586084705000},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1586085260820},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586085021683},{"path":"D:\\ysyf\\iguard-vue01\\node_modules\\vue-loader\\lib\\index.js","mtime":1586085255129}],"contextDependencies":[],"result":["\n  <div class=\"app-container\">\n    <div style=\"margin-top:20px;margin-bottom: 20px\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"4\">\n<!--          类型/品牌/型号/-->\n          <el-input v-model=\"listQuery.name\" placeholder=\"名称\" />\n        </el-col>\n\n        <el-col :span=\"4\">\n          <el-select v-model=\"listQuery.build\" placeholder=\"建筑\" clearable @change=\"getFloors\">\n            <el-option\n              v-for=\"item in buildings\"\n              :key=\"item.id\"\n              :label=\"item.locationName\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-col>\n\n        <el-col :span=\"4\">\n          <el-select v-model=\"listQuery.floor\" placeholder=\"楼层\" clearable >\n            <el-option\n              v-for=\"item in floors\"\n              :key=\"item.id\"\n              :label=\"item.locationName\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-col>\n\n        <el-col :span=\"8\">\n          <el-button\n            v-permission=\"['/rest/deviceInfo/list']\"\n            class=\"filter-item\"\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            @click=\"handleSearch\"\n          >查找</el-button>\n          <el-button\n            v-permission=\"['/rest/deviceInfo/add']\"\n            class=\"filter-item\"\n            style=\"margin-left: 10px;\"\n            type=\"primary\"\n            @click=\"handleCreate\"\n          >\n            <i class=\"el-icon-plus\" />新增设备\n          </el-button>\n\n          <el-button\n            v-permission=\"['/rest/deviceInfo/exportQR']\"\n            class=\"filter-item\"\n            style=\"margin-left: 10px;\"\n            type=\"primary\"\n            @click=\"handleExportQR\"\n          >导出二维码\n          </el-button>\n\n        </el-col>\n      </el-row>\n\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      style=\"width: 100%;\"\n      height=\"450\"\n    >\n\n      <el-table-column width=\"50\" label=\"序号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.$index+(listQuery.page - 1) * listQuery.limit + 1 }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"name\" label=\"设备名称\" />\n\n      <el-table-column prop=\"typeName\" label=\"类型\" :formatter=\"formatType\" />\n\n      <el-table-column prop=\"brandName\" label=\"品牌\" :formatter=\"formatBrand\" />\n\n      <el-table-column prop=\"deviceModel\" label=\"型号\" :formatter=\"formatModel\" />\n\n      <el-table-column prop=\"address\" label=\"地址\" :formatter=\"formatAddress\"/>\n\n      <el-table-column prop=\"putTime\" label=\"投放日期\" />\n\n      <el-table-column prop=\"remark\" label=\"备注\" />\n\n      <el-table-column prop=\"rqUrl\" label=\"二维码\">\n        <template slot-scope=\"scope\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src= scope.row.qrUrl\n            :preview-src-list=[scope.row.qrUrl]>\n          </el-image>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"imgUrl\" label=\"图片\" >\n        <template slot-scope=\"scope\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src= scope.row.imgUrl\n            :preview-src-list=[scope.row.imgUrl]>\n          </el-image>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            v-permission=\"['/rest/deviceInfo/update']\"\n            type=\"text\"\n            size=\"small\"\n            @click=\"handleEdit(scope)\"\n          >编辑</el-button>\n          <el-button\n            v-permission=\"['/rest/deviceInfo/delete']\"\n            type=\"text\"\n            size=\"small\"\n            @click=\"handleDelete(scope)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.limit\"\n      @pagination=\"getList\"\n    />\n    <el-dialog :visible.sync=\"dialogVisible\" :title=\"dialogType==='edit'?'编辑':'新增'\">\n      <el-form ref=\"form\" :model=\"deviceInfo\" :rules=\"rules\" label-position=\"right\" label-width=\"80px\">\n        <el-form-item label=\"设备名称\" prop=\"name\">\n          <el-input v-model=\"deviceInfo.name\" placeholder=\"岗位名\" />\n        </el-form-item>\n        <el-form-item label=\"类型\" prop=\"type\">\n          <el-select v-model=\"deviceInfo.type\" filterable>\n            <el-option\n              v-for=\"item in deviceTypes\"\n              :key=\"item.data_key\"\n              :label=\"item.data_value\"\n              :value=\"item.data_key\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"品牌\" prop=\"brand\">\n          <el-select v-model=\"deviceInfo.brand\" filterable>\n            <el-option\n              v-for=\"item in deviceBrands\"\n              :key=\"item.data_key\"\n              :label=\"item.data_value\"\n              :value=\"item.data_key\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"型号\" prop=\"model\">\n          <el-select v-model=\"deviceInfo.model\" filterable>\n            <el-option\n              v-for=\"item in deviceModels\"\n              :key=\"item.data_key\"\n              :label=\"item.data_value\"\n              :value=\"item.data_key\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"位置\" prop=\"model\">\n          <el-select v-model=\"deviceInfo.building\" placeholder=\"建筑\" clearable @change=\"getFloors\">\n            <el-option\n              v-for=\"item in buildings\"\n              :key=\"item.id\"\n              :label=\"item.locationName\"\n              :value=\"item.id\"\n            />\n          </el-select>\n\n          <el-select v-model=\"deviceInfo.floor\" placeholder=\"楼层\" clearable>\n            <el-option\n              v-for=\"item in floors\"\n              :key=\"item.id\"\n              :label=\"item.locationName\"\n              :value=\"item.id\"\n            />\n          </el-select>\n\n        </el-form-item>\n\n        <el-form-item label=\"投用时间\" prop=\"putTime\">\n          <el-date-picker\n            v-model=\"deviceInfo.putTime\"\n            type=\"date\"\n            placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"备注描述\" prop=\"remark\">\n          <el-input\n            type=\"textarea\"\n            placeholder=\"请输入内容\"\n            v-model=\"deviceInfo.remark\"\n          >\n          </el-input>\n        </el-form-item>\n\n        <el-form-item label=\"图片\">\n          <el-upload\n            :action=\"uploadPath\"\n            list-type=\"picture-card\"\n            :limit=1\n            :on-success=\"handlePictureSuccess\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n        </el-form-item>\n\n      </el-form>\n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDeviceInfo\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n",null]}